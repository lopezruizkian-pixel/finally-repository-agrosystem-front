<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="../img/logo.png">
  
  <link rel="stylesheet" href="../css/animales.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../css/modales.css">
  <title>Animales</title>
</head>
<body>
  <header class="header">
    <div class="logo">
      <img src="../img/logo.png" alt="Logo Agrosystem">
      <span class="nombre">AGROSYSTEM</span>
    </div>
  </header>

  <div class="contenedor-principal">
    <aside class="sidebar" id="sidebar">
      <button class="btn-dashboard" onclick="irHome()">
        <i class="fas fa-home"></i>
        <span>Inicio</span>
      </button>
      <button class="menu-btn activo"><i class="fas fa-cow"></i> <span>Animal</span></button>
      <button class="menu-btn"><i class="fas fa-pills"></i> <span>Medicamento</span></button>
      <button class="menu-btn"><i class="fas fa-file-alt"></i> <span>Tarjeta de salud</span></button>
      <button class="menu-btn"><i class="fas fa-notes-medical"></i> <span>Reporte m√©dico</span></button>
      <button class="menu-btn"><i class="fas fa-syringe"></i> <span>Tratamiento</span></button>
      <button class="menu-btn"><i class="fas fa-shield-virus"></i> <span>Enfermedad</span></button>
    </aside>

    <main class="contenido">
      <div class="buscador-agregar">
        <div class="buscador">
          <input type="text" placeholder="Buscar">
          <button>üîç</button>
        </div>
        <button class="btn-agregar">Agregar animal ‚ûï</button>
      </div>

      <div class="tabla-animales"></div>
    </main>
  </div>

  <!-- Modal Visualizar Animal -->
  <div id="modalVisualizarAnimal" class="modal">
    <div class="modal-contenido visualizar">
      <h2>Detalles del Animal</h2>
      <div id="contenidoAnimal" class="detalle-contenido"></div>
      <div class="botones">
        <button id="btnCerrarVisualizar">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal Agregar Animal -->
  <div id="modalAgregarAnimal" class="modal">
    <div class="modal-contenido">
      <h2 id="tituloModal">Agregar Animal</h2>

      <div class="form-grid">
        <div class="form-group">
          <label>Nombre: <span class="required">*</span></label>
          <input type="text" id="nombre" placeholder="Nombre del animal">
        </div>

        <div class="form-group">
          <label>N√∫mero de Arete: <span class="required">*</span></label>
          <input type="number" id="numArete" placeholder="N√∫mero de arete">
        </div>

        <div class="form-group">
          <label>Sexo: <span class="required">*</span></label>
          <select id="sexo">
            <option value="">-- Seleccione sexo --</option>
            <option value="H">Hembra</option>
            <option value="M">Macho</option>
          </select>
        </div>

        <div class="form-group">
          <label>Estado:</label>
          <select id="estado">
            <option value="Vivo">Vivo</option>
            <option value="Vendido">Vendido</option>
            <option value="Muerto">Muerto</option>
          </select>
        </div>

        <div class="form-group">
          <label>Reba√±o:</label>
          <select id="rebano">
            <option value="Vaca">Vaca</option>
            <option value="Becerro">Becerro</option>
            <option value="Becerra">Becerra</option>
            <option value="Toro">Toro</option>
          </select>
        </div>

        <div class="form-group">
          <label>Procedencia:</label>
          <select id="procedencia">
            <option value="Interno">Interno</option>
            <option value="Externo">Externo</option>
          </select>
        </div>

        <div class="form-group">
          <label>Fecha de Nacimiento:</label>
          <input type="date" id="fechaNacimiento">
        </div>

        <div class="form-group">
          <label>Edad (a√±os):</label>
          <input type="number" id="edad" placeholder="Edad" min="0">
        </div>

        <div class="form-group">
          <label>Peso Inicial (kg):</label>
          <input type="number" id="peso" step="0.01" placeholder="Peso en kg" min="0">
        </div>

        <div class="form-group">
          <label>ID Padre:</label>
          <input type="number" id="padreArete" placeholder="ID del padre" min="0">
        </div>

        <div class="form-group">
          <label>ID Madre:</label>
          <input type="number" id="madreArete" placeholder="ID de la madre" min="0">
        </div>

        <div class="form-group full-width">
          <label>Caracter√≠sticas:</label>
          <textarea id="caracteristicas" rows="3" placeholder="Descripci√≥n de caracter√≠sticas del animal"></textarea>
        </div>
      </div>

      <div class="botones">
        <button id="btnGuardarAnimal" class="btn-guardar">
          <i class="fas fa-save"></i> Guardar
        </button>
        <button id="btnCerrarModal" class="btn-cancelar">
          <i class="fas fa-times"></i> Cancelar
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Actualizar Peso -->
  <div id="modalActualizarPeso" class="modal">
    <div class="modal-contenido">
      <h2>Actualizar Peso del Animal</h2>
      <p id="nombreAnimalPeso" style="margin-bottom: 15px; font-weight: bold; color: #2c5f2d;"></p>

      <label>Nuevo Peso (kg):</label>
      <input type="number" id="nuevoPeso" step="0.01" placeholder="Ej: 450.5" min="0">

      <label>Fecha:</label>
      <input type="date" id="fechaPeso">

      <label>Condici√≥n Corporal:</label>
      <select id="condicionCorporal">
        <option value="1">1 - Muy delgado</option>
        <option value="2">2 - Delgado</option>
        <option value="3">3 - Ideal</option>
        <option value="4">4 - Sobrepeso</option>
        <option value="5">5 - Obeso</option>
      </select>

      <label>Usuario que Registra:</label>
      <input type="text" id="usuarioRegistro" placeholder="Nombre del usuario">

      <label>Observaciones:</label>
      <textarea id="observacionesPeso" rows="3" placeholder="Observaciones sobre el peso del animal..."></textarea>

      <div class="botones">
        <button id="btnGuardarPeso">Guardar</button>
        <button id="btnCerrarModalPeso">Cancelar</button>
      </div>
    </div>
  </div>

  <style>
    /* Estilos para el modal mejorado */
    .modal-contenido {
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group.full-width {
      grid-column: 1 / -1;
    }

    .form-group label {
      margin-bottom: 5px;
      font-weight: 600;
      color: #2c5f2d;
      font-size: 0.95rem;
    }

    .required {
      color: #dc3545;
      font-weight: bold;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.95rem;
      transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #729e65;
      box-shadow: 0 0 0 3px rgba(114, 158, 101, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      font-family: inherit;
    }

    .botones {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 20px;
    }

    .btn-guardar,
    .btn-cancelar {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s;
    }

    .btn-guardar {
      background-color: #729e65;
      color: white;
    }

    .btn-guardar:hover {
      background-color: #5e8a51;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .btn-cancelar {
      background-color: #6c757d;
      color: white;
    }

    .btn-cancelar:hover {
      background-color: #5a6268;
      transform: translateY(-2px);
    }

    #tituloModal {
      color: #2c5f2d;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #729e65;
    }

    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <script src="../js/sidebar.js" defer></script>
  <script src="../js/navegacion.js" defer></script>
  <script src="../js/animales.js" defer></script>
</body>
</html>